---
layout: post
title: Actas CS UTN
author: Soledad Retamar
published: false
output: html_document
status: process
draft: false
tags: consejo
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
```{r global_options, echo=FALSE}
knitr::opts_chunk$set(fig.path="figures/", message=FALSE, warning=FALSE,
                      echo=FALSE, results="hide", fig.width=11)
```

## Actas de reuniones del Consejo Superior de UTN
En este post trataremos de reproducir el trabajo realizado por .

En este caso hemos tomado lactas de reuniones del Consejo Superior de los 칰ltimos 10 a침os.
Los paquetes necesarios ser치n: NLP, openNLP y magrittr
En primer lugar ejecutamos la funci칩n para extraer el texto de las actas, actualmente almacenadas en archivos .pdf. Ese post se puede ver en: ENLACE
```{r, echo=FALSE}
  library(pdftools)
  library(rvest)
  library(readr)
  library(purrr)
  library(stringr)
  library(stringi)
  library(dplyr)
  library(tidyr)
  library(tidyverse)
  library(tidytext)
  library(tibble)
  library(tau)
  library(tokenizers)
  library(rcorpora)
  library(viridis)
  library(tm)
  library(wordcloud)
  library(ggplot2)
```

En esta oportunidad s칩lo importamos el archivo .csv generado:
```{r, echo=TRUE}
  actas_CS <-   read.csv("data\\actas.csv", 
                          sep="\t", stringsAsFactors=FALSE, 
                          encoding="latin1" )
  names(actas_CS) <- c("archivo","anio", "nro", "reunion", "lugar", "txt")
```

### Cantidad de Reuniones por A침o
En primer lugar analizaremos cuantas actas por a침o se recuperaron, que ser칤a equivalente a la cantidad de reuniones llevadas a cabo
```{r, echo=TRUE}
  reuniones <- actas_CS[actas_CS$anio != "2005" & 
                        actas_CS$anio != "3.pd" & 
                        actas_CS$anio != "AU20" & 
                        !is.na(actas_CS$anio),] %>% 
              count(anio, reunion, sort = TRUE) %>% 
              group_by(anio)

  anios <- as.data.frame(reuniones$anio, reuniones$reunion)
  names(anios)<-"anio"

  Freuniones<- ggplot(anios, aes(x=as.factor(anios$anio), 
      fill = as.numeric(anios$anio))) + 
    geom_bar(position='dodge', show.legend = FALSE) + 
    xlab("A침o") + 
    ylab("Cantidad") + 
    scale_x_discrete("A침os" ) + 
    theme_minimal() +
    ggtitle("Reuniones de CS UTN")
```
### El gr치fico de frecuencias de reuniones por a침o:
```{r simpleplot, fig.path='../sole_blog/figures/'}
  plot(Freuniones)
```

## Palabras mas frecuentes por a絪
```{r, echo=TRUE}
vacias<-as.data.frame(c(stopwords(kind="es"), 
          readLines("data\\stop-words_spanish_1_es.txt", encoding="UTF-8"),
          readLines("data\\stop-words_spanish_2_es.txt", encoding="UTF-8"),
          readLines("data\\stopwords_utn.txt", encoding="ASCII-Latin")))
names(vacias) <- "palabra"


actas <- actas_CS %>%
  group_by(anio) %>% 
  mutate(linea = row_number()) %>% 
  ungroup()

actas_tokenizadas <- actas %>%  unnest_tokens(word, txt)
actas_tokenizadas <- actas_tokenizadas %>% anti_join(vacias, by = c("word" = "palabra"))
actas_tokenizadas %>% count(word, sort = TRUE)

actas_tokenizadas %>% 
  group_by(anio) %>% 
  count(word, sort = TRUE) %>% 
  slice(1) %>% 
  ggplot() +
  geom_bar(aes(x = word, weight = n, fill = word)) +
  coord_flip() +
  facet_wrap(~anio) +
  labs(title = "Actas",
       subtitle = "Palabra m硬 frecuente por a絪",
       x = "palabra",
       y = "veces hallada")



actas_tokenizadas %>% 
  group_by(reunion) %>% 
  count(word, sort = TRUE) %>% 
  slice(1) %>% 
  ggplot() +
  geom_bar(aes(x = word, weight = n, fill = word)) +
  coord_flip() +
  facet_wrap(~reunion) +
  labs(title = "Actas",
       subtitle = "Palabra m硬 frecuente por a絪",
       x = "palabra",
       y = "veces hallada")
  names(actas_CS) <- c("archivo","anio", "nro", "reunion", "lugar", "txt")
```

### Palabras mas frecuentes
```{r simpleplot2, fig.path='../sole_blog/figures/'}
  plot(actas_tokenizadas)
```
