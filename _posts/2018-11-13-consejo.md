---
layout: post
title: Actas CS UTN
author: Soledad Retamar
published: true
output: html_document
status: publish
draft: false
tags: consejo
---
 

 
 
## Actas de reuniones del Consejo Superior de UTN
En este post trataremos de reproducir el trabajo realizado por .
 
En este caso hemos tomado las actas de reuniones del Consejo Superior de los √∫ltimos 10 a√±os.
Los paquetes necesarios ser√°n: NLP, openNLP y magrittr
En primer lugar ejecutamos la funci√≥n para extraer el texto de las actas, actualmente almacenadas en archivos .pdf. Ese post se puede ver en: ENLACE

{% highlight text %}
## Loading required package: xml2
{% endhighlight %}



{% highlight text %}
## 
## Attaching package: 'readr'
{% endhighlight %}



{% highlight text %}
## The following object is masked from 'package:rvest':
## 
##     guess_encoding
{% endhighlight %}



{% highlight text %}
## 
## Attaching package: 'purrr'
{% endhighlight %}



{% highlight text %}
## The following object is masked from 'package:rvest':
## 
##     pluck
{% endhighlight %}



{% highlight text %}
## 
## Attaching package: 'dplyr'
{% endhighlight %}



{% highlight text %}
## The following objects are masked from 'package:stats':
## 
##     filter, lag
{% endhighlight %}



{% highlight text %}
## The following objects are masked from 'package:base':
## 
##     intersect, setdiff, setequal, union
{% endhighlight %}



{% highlight text %}
## -- Attaching packages ---------------------------------- tidyverse 1.2.1 --
{% endhighlight %}



{% highlight text %}
## v ggplot2 3.1.0     v tibble  1.4.2
## v ggplot2 3.1.0     v forcats 0.3.0
{% endhighlight %}



{% highlight text %}
## -- Conflicts ------------------------------------- tidyverse_conflicts() --
## x dplyr::filter()         masks stats::filter()
## x readr::guess_encoding() masks rvest::guess_encoding()
## x dplyr::lag()            masks stats::lag()
## x purrr::pluck()          masks rvest::pluck()
{% endhighlight %}



{% highlight text %}
## 
## Attaching package: 'tau'
{% endhighlight %}



{% highlight text %}
## The following object is masked from 'package:readr':
## 
##     tokenize
{% endhighlight %}



{% highlight text %}
## Loading required package: viridisLite
{% endhighlight %}



{% highlight text %}
## Loading required package: NLP
{% endhighlight %}



{% highlight text %}
## 
## Attaching package: 'NLP'
{% endhighlight %}



{% highlight text %}
## The following object is masked from 'package:ggplot2':
## 
##     annotate
{% endhighlight %}



{% highlight text %}
## Loading required package: RColorBrewer
{% endhighlight %}
 
En esta oportunidad s√≥lo importamos el archivo .csv generado:

{% highlight r %}
  actas_CS <-   read.csv("data\\actas.csv", 
                          sep="\t", stringsAsFactors=FALSE, 
                          encoding="latin1" )
  names(actas_CS) <- c("archivo","anio", "nro", "reunion", "lugar", "txt")
{% endhighlight %}
 
### Cantidad de Reuniones por A√±o
En primer lugar analizaremos cuantas actas por a√±o se recuperaron, que ser√?a equivalente a la cantidad de reuniones llevadas a cabo

{% highlight r %}
  reuniones <- actas_CS[actas_CS$anio != "2005" & 
                        actas_CS$anio != "3.pd" & 
                        actas_CS$anio != "AU20" & 
                        !is.na(actas_CS$anio),] %>% 
              count(anio, reunion, sort = TRUE) %>% 
              group_by(anio)
 
  anios <- as.data.frame(reuniones$anio, reuniones$reunion)
  names(anios)<-"anio"
 
  Freuniones<- ggplot(anios, aes(x=as.factor(anios$anio), 
      fill = as.numeric(anios$anio))) + 
    geom_bar(position='dodge', show.legend = FALSE) + 
    xlab("A√±o") + 
    ylab("Cantidad") + 
    scale_x_discrete("A√±os" ) + 
    theme_minimal() +
    ggtitle("Reuniones de CS UTN")
{% endhighlight %}
### El gr√°fico de frecuencias de reuniones por a√±o:

{% highlight r %}
  plot(Freuniones)
{% endhighlight %}

![plot of chunk simpleplot](/../sole_blog/figures/simpleplot-1.png)
 
## Palabras mas frecuentes por a√±o

{% highlight r %}
vacias<-as.data.frame(c(stopwords(kind="es"), 
          readLines("data\\stop-words_spanish_1_es.txt", encoding="UTF-8"),
          readLines("data\\stop-words_spanish_2_es.txt", encoding="UTF-8"),
          readLines("data\\stopwords_utn.txt", encoding="ASCII-Latin")))
names(vacias) <- "palabra"
{% endhighlight %}
 
#### Ahora armamos el nuevo dataset

{% highlight r %}
actas <- actas_CS %>%
  group_by(anio)%>% 
  mutate(linea = row_number()) %>%
  ungroup()
 
actas_tokenizadas <- actas %>%  unnest_tokens(word, txt)
actas_tokenizadas <- actas_tokenizadas %>% anti_join(vacias, by = c("word" = "palabra"))
actas_tokenizadas %>% count(word, sort = TRUE)
{% endhighlight %}



{% highlight text %}
## # A tibble: 26,522 x 2
##    word             n
##    <chr>        <int>
##  1 acadÈmica     3949
##  2 docentes      3895
##  3 profesores    3796
##  4 docente       3544
##  5 tesis         3265
##  6 aspirante     3153
##  7 autorizaciÛn  2983
##  8 profesor      2938
##  9 posgrado      2676
## 10 aires         2661
## # ... with 26,512 more rows
{% endhighlight %}



{% highlight r %}
actas_tokenizadas %>% 
  group_by(anio) %>% 
  count(word, sort = TRUE) %>% 
  slice(1) %>% 
  ggplot() +
  geom_bar(aes(x = word, weight = n, fill = word)) +
  coord_flip() +
  facet_wrap(~anio) +
  labs(title = "Actas",
       subtitle = "Palabra m·s frecuente por aÒo",
       x = "palabra",
       y = "veces hallada")
{% endhighlight %}

![plot of chunk unnamed-chunk-5](/figures/unnamed-chunk-5-1.png)
